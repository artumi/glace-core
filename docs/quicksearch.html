<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"globals.js.html":{"id":"globals.js.html","title":"Source: globals.js","body":" GlaseJS Namespaces config~GlaceConfig Modules cliconfigerrorglobalshackinghelpindexmatcherreporter/indexreporter/stdoutreporter/testrailrunnersteps/timertestingutils Classes GlaceReportererror~ConfigErrorerror~GlaceErrorerror~StepErrortesting~TestCaseSteps Mixins steps/timer~TimerSteps Global afterChunkbeforeChunkchunkCONFexpectforEachLanguagereportersrunscopesessionSStest Source: globals.js &quot;use strict&quot;; /** * Contains global framework functions and helpers. * * @module */ var fs = require(&quot;fs&quot;); var path = require(&quot;path&quot;); var _ = require(&quot;lodash&quot;); var U = require(&quot;glace-utils&quot;); var LOG = U.logger; require(&quot;./matcher&quot;); var CONF = require(&quot;./config&quot;); var hacking = require(&quot;./hacking&quot;); var TestCase = require(&quot;./testing&quot;).TestCase; /** * Helper to set actual log file. * * @function */ var setLog = () =&gt; { var testName = CONF.curTestCase ? _.kebabCase(CONF.curTestCase.name) : &quot;&quot;; var logFile = path.resolve(CONF.reportsDir, testName, &quot;logs&quot;, &quot;test.log&quot;); LOG.setFile(logFile); }; setLog(); // Set log immediatelly. /** * `chaijs` `expect` function. * * @global * @function * @arg {*} actualValue - Some actual value which should be checked. * @see {@link http://chaijs.com/|chaijs} to get more details about * `expect` usage. * @example expect(1).to.be.equal(1); expect(2).to.be.gte(0); */ global.expect = require(&quot;chai&quot;).expect; /** * `GlaceJS` config. * * @global * @see {@link module:config|config} to get more details about its options. */ global.CONF = CONF; /** * Atomic steps collection. * * @global * @see {@link module:steps/index|steps} to get more details about its methods. */ global.SS = new (require(&quot;./steps&quot;)); /** * Execute tests scope. * * @global * @function * @arg {string} name - Scope name. * @arg {function[]} [fixtures] - List of fixtures. * @arg {function} func - Function with test cases. * @example scope(&quot;Some test scope&quot;, () =&gt; { test(&quot;Some test name&quot;, () =&gt; { before(() =&gt; { someFunc(); }); chunk(&quot;chunk #1&quot;, () =&gt; { someFunc(); }); chunk(&quot;chunk #2&quot;, () =&gt; { someFunc(); }); }); }); */ global.scope = (name, fixtures, func) =&gt; { if (fixtures instanceof Function) { func = fixtures; fixtures = []; }; describe(name, U.wrap(fixtures, func)); }; /** * Executed sessions counter. * * @type {Number} */ var sessNum = 0; /** * Executes tests session. * * @global * @function * @arg {string} [name] - Session name. By default it includes start date time. * @arg {object} [ctx] - Session context. By default it's empty. * @arg {function} func - Function with test cases. * @example session(() =&gt; { test(&quot;Test #1&quot;, () =&gt; { chunk(&quot;Chunk #1&quot;, () =&gt; { someFunc(); }); chunk(&quot;Chunk #2&quot;, () =&gt; { someFunc(); }); }); test(&quot;Test #2&quot;, () =&gt; { chunk(&quot;Chunk #1&quot;, () =&gt; { someFunc(); }); chunk(&quot;Chunk #2&quot;, () =&gt; { someFunc(); }); }); }); */ global.session = (name, ctx, fixtures, func) =&gt; { var defName = `Session ${new Date().toLocaleString()}`; if (name instanceof Function) { func = name; name = defName; ctx = {}; fixtures = []; }; if (ctx instanceof Function) { func = ctx; ctx = {}; fixtures = []; }; if (fixtures instanceof Function) { func = fixtures; fixtures = []; }; name = name || defName; ctx = ctx || {}; fixtures = fixtures || []; sessNum++; ctx.sessionNumber = sessNum; scope(name, () =&gt; { before(() =&gt; CONF.isRunPassed = true); U.wrap(fixtures, func)(); }); }; /** * Basis for any test case. * * If test with the same was registered already, this test will be omitted * with corresponding error in log. * * If retries amount is specified and this test was failed, the test will be * added to queue in separated session with title containing `Retry` and its * number. * * @abstract * @function * @arg {string} name - Name of test case. * @arg {object} [opts] - Options. * @arg {boolean} [opts.skip=false] - Flag to skip test. * @arg {number} [opts.retry=0] - Number of retries on failure. May be managed * in config. * @arg {function[]} [fixtures] - Involved fixtures list. * @arg {function} func - Test function. */ var baseTest = (names =&gt; { return (name, opts, fixtures, func) =&gt; { if (names.includes(name)) { LOG.warn(`Test case '${name}' is added already.`, `Test case with the same name will be omitted.`); return; }; if (opts instanceof Function) { func = opts; opts = {}; fixtures = []; }; if (fixtures instanceof Function) { func = fixtures; fixtures = []; }; opts = opts || {}; fixtures = fixtures || []; opts.skip = U.defVal(opts.skip, false); opts.retry = U.defVal(opts.retry, CONF.testRetries, 0); if (opts.skip) { LOG.warn(`Test '${name}' is marked as skipped and will be omitted`); return; }; names.push(name); var testCase = new TestCase(name); var retries = opts.retry; CONF.testCases.push(testCase); var testFunc = ctxs =&gt; { ctxs = ctxs || [{}]; scope(name, () =&gt; { before(() =&gt; { testCase.reset(); testCase.status = TestCase.IN_PROGRESS; CONF.curTestCase = testCase; setLog(); // Current test case is started, need to reinit log }); U.wrap(fixtures, () =&gt; { for (var ctx of ctxs) func(ctx); })(); after(() =&gt; { if (testCase.errors.length) { testCase.status = TestCase.FAILED; } else { testCase.status = TestCase.PASSED; }; CONF.curTestCase = null; setLog(); // Current test case is finished, need to reinit log if (testCase.status !== TestCase.FAILED || retries &lt;= 0) { return; }; retries--; var retryNum = CONF.testRetries - retries; var sessName = `Retry #${retryNum}`; /* Hack to pass mocha grep */ var mochaRunner = hacking.getRunner(); if (mochaRunner._grep !== mochaRunner._defaultGrep) { sessName += &quot; - &quot; + mochaRunner._grep.source; }; var sessCtx = { retryNumber: retryNum }; session(sessName, sessCtx, null, () =&gt; { testFunc(testCase.failedParams); }); }); }); }; testFunc(); }; })([]); /** * Executes test case. * * @global * @function * @arg {string} name - Name of test case. * @arg {object} [opts] - Options. * @arg {boolean} [opts.video=true] - Flag to involve video fixture. * @arg {boolean} [opts.skip=false] - Flag to skip test. * @arg {number} [opts.retry=0] - Number of retries on failure. May be managed * in config. * @arg {function[]} [fixtures] - Involved fixtures list. * @arg {function} func - Test function. * @example test(&quot;Some test&quot;, () =&gt; { chunk(&quot;Some chunk&quot;, () =&gt; { someFunc(); }); }); */ global.test = (name, opts, fixtures, func) =&gt; { baseTest(name, opts, fixtures, ctx =&gt; { func(ctx); }); }; /** * Executes test chunk. * * Contains actions and verifications, which will be executed separatly * from another chunks. This function is used to organize test * structure and to allocate independent test actions. * * @global * @function * @arg {string} [name] - Name of test case. * @arg {function} func - Step function. * @example test(&quot;Some test&quot;, () =&gt; { chunk(&quot;Some chunk&quot;, () =&gt; { someFunc(); }); }); */ global.chunk = (name, func) =&gt; { if (name instanceof Function) { func = name; name = &quot;&quot;; }; it(name, func); }; /** * Executes before each test chunk. * * @global * @function * @arg {string} name - Name of test case. * @arg {function} func - Hook function. * @example test(&quot;Some test&quot;, () =&gt; { beforeChunk(() =&gt; { someFunc(); }); chunk(&quot;Chunk #1&quot;, () =&gt; { someFunc(); }); chunk(&quot;Chunk #2&quot;, () =&gt; { someFunc(); }); }); */ global.beforeChunk = beforeEach; /** * Executes after each test chunk. * * @global * @function * @arg {string} name - Name of test case. * @arg {function} func - Hook function. * @example test(&quot;Some test&quot;, () =&gt; { afterChunk(() =&gt; { someFunc(); }); chunk(&quot;Chunk #1&quot;, () =&gt; { someFunc(); }); chunk(&quot;Chunk #2&quot;, () =&gt; { someFunc(); }); }); */ global.afterChunk = afterEach; /** * Iterates test chunks through all languages specifed in config. * * It's applicable for multilingual application. If list of languages is * specified, it will be used firstly. Otherwise from configuration. * * @global * @function * @arg {object} [ctx] - Test case context. * @arg {object} [opts] - Options. * @arg {function[]} [fixtures] - Involved fixtures list. * @arg {function} func - Function with test steps. * @example test(&quot;Some test&quot;, ctx =&gt; { forEachLanguage(ctx, lang =&gt; { beforeChunk(() =&gt; { someFunc(); }); chunk(&quot;Chunk #1&quot;, () =&gt; { someFunc(); }); chunk(&quot;Chunk #2&quot;, () =&gt; { someFunc(); }); }); }); */ global.forEachLanguage = (ctx, opts, fixtures, func) =&gt; { if (ctx instanceof Function) { func = ctx; ctx = {}; opts = {}; fixtures = []; }; if (opts instanceof Function) { func = opts; opts = {}; fixtures = []; }; if (fixtures instanceof Function) { func = fixtures; fixtures = []; }; ctx = ctx || {}; opts = opts || {}; fixtures = fixtures || []; var languages = ctx.language ? [ctx.language] : CONF.languages; languages.forEach(lang =&gt; { scope(`for language &quot;${lang}&quot;`, () =&gt; { before(() =&gt; { if (CONF.curTestCase) { CONF.curTestCase.testParams.language = lang; }; }); U.wrap(fixtures, () =&gt; func(lang))(); }); }); }; Ã— Search results Close "},"reporter_base.js.html":{"id":"reporter_base.js.html","title":"Source: reporter/base.js","body":" GlaseJS Namespaces config~GlaceConfig Modules cliconfigerrorglobalshackinghelpindexmatcherreporter/indexreporter/stdoutreporter/testrailrunnersteps/timertestingutils Classes GlaceReportererror~ConfigErrorerror~GlaceErrorerror~StepErrortesting~TestCaseSteps Mixins steps/timer~TimerSteps Global afterChunkbeforeChunkchunkCONFexpectforEachLanguagereportersrunscopesessionSStest Source: reporter/base.js &quot;use strict&quot;; /** * `GlaceJS` common reporter. * * @class * @name GlaceReporter * @arg {object} runner - `MochaJS` runner. */ var _ = require(&quot;lodash&quot;); var util = require(&quot;util&quot;); var MochaReporter = require(&quot;mocha&quot;).reporters.base; var U = require(&quot;glace-utils&quot;); var LOG = U.logger; var CONF = require(&quot;../config&quot;); /** * Registered reporters. * * @type {object[]} */ var reporters = []; var GlaceReporter = function (runner) { MochaReporter.call(this, runner); runner.on(&quot;start&quot;, () =&gt; { for (var reporter of reporters) { if (reporter.start) reporter.start(); }; }); runner.on(&quot;end&quot;, () =&gt; { U.clearEmptyFolders(CONF.reportsDir) for (var reporter of reporters) { if (reporter.end) reporter.end(); }; }); runner.on(&quot;suite&quot;, mochaSuite =&gt; { var isTest = _isSuiteTest(mochaSuite); for (var reporter of reporters) { if (isTest) { if (reporter.test) reporter.test(mochaSuite); } else { if (reporter.scope) reporter.scope(mochaSuite); }; }; }); runner.on(&quot;suite end&quot;, mochaSuite =&gt; { var isTest = _isSuiteTest(mochaSuite); for (var reporter of reporters) { if (isTest) { if (reporter.testEnd) reporter.testEnd(mochaSuite); } else { if (reporter.scopeEnd) reporter.scopeEnd(mochaSuite); }; }; }); runner.on(&quot;test&quot;, mochaTest =&gt; { for (var reporter of reporters) { if (reporter.chunk) reporter.chunk(mochaTest); }; }); runner.on(&quot;test end&quot;, mochaTest =&gt; { for (var reporter of reporters) { if (reporter.chunkEnd) reporter.chunkEnd(mochaTest); }; }); runner.on(&quot;hook&quot;, mochaHook =&gt; { for (var reporter of reporters) { if (reporter.hook) reporter.hook(mochaHook); }; }); runner.on(&quot;hook end&quot;, mochaHook =&gt; { for (var reporter of reporters) { if (reporter.hookEnd) reporter.hookEnd(mochaHook); }; }); runner.on(&quot;pass&quot;, mochaTest =&gt; { for (var reporter of reporters) { if (reporter.pass) reporter.pass(mochaTest); }; }); runner.on(&quot;fail&quot;, (mochaTest, err) =&gt; { CONF.isRunPassed = false; if (CONF.curTestCase) { var errMsg = mochaTest.title; if (err.message) { errMsg += &quot;\\nmessage: &quot; + err.message; }; if (err.stack) { errMsg += &quot;\\nstack: &quot; + err.stack; }; if (err.seleniumStack) { errMsg += &quot;\\nselenium: &quot; + JSON.stringify(err.seleniumStack, null, &quot;\\t&quot;); }; CONF.curTestCase.addError(errMsg); CONF.curTestCase.addFailedParams( _.clone(CONF.curTestCase.testParams)); }; for (var reporter of reporters) { if (reporter.fail) reporter.fail(mochaTest, err); }; }); runner.on(&quot;pending&quot;, mochaTest =&gt; { for (var reporter of reporters) { if (reporter.pending) reporter.pending(mochaTest); }; }); }; util.inherits(GlaceReporter, MochaReporter); module.exports = GlaceReporter; /** * Finalizes reporting. * * @function * @async * @arg {Array.&lt;*&gt;} failures - Tests failures. * @arg {function} fn - Finalizator. */ GlaceReporter.prototype.done = function (failures, fn) { var prms = Promise.resolve(); reporters.forEach(reporter =&gt; { if (reporter.done) { prms = prms .then(() =&gt; reporter.done()) .catch(e =&gt; LOG.error(e)); }; }); prms.then(() =&gt; fn(failures)); }; /** * Registers reporters if they are not. * * @method * @static * @arg {...object} reporters - Sequence of reporters to register. */ GlaceReporter.register = function () { for (var reporter of arguments) { if (!reporters.includes(reporter)) { reporters.push(reporter); }; }; }; /** * Removes reporters if they are registered. * * @method * @static * @arg {...object} reporters - Sequence of reporters to remove. */ GlaceReporter.remove = function () { reporters = _.without.apply(_, reporters, arguments); }; /** * Helper to define whether `MochaJS` suite is `GlaceJS` test or no. * * It iterates among registered tests and check if suite name matches name * someone of tests. It is not possible to use `CONF.curTestCase` to compare * because `CONF.curTestCase` is assigned after event `suite`. * * @function * @ignore * @arg {object} mochaSuite - `MochaJS` suite. * @return {boolean} - `true` if `MochaJS` suite is `GlaceJS` test, `false` * otherwise. */ var _isSuiteTest = mochaSuite =&gt; { for (var testCase of CONF.testCases) { if (mochaSuite.title === testCase.name) { return true; }; }; return false; }; Ã— Search results Close "},"cli.js.html":{"id":"cli.js.html","title":"Source: cli.js","body":" GlaseJS Namespaces config~GlaceConfig Modules cliconfigerrorglobalshackinghelpindexmatcherreporter/indexreporter/stdoutreporter/testrailrunnersteps/timertestingutils Classes GlaceReportererror~ConfigErrorerror~GlaceErrorerror~StepErrortesting~TestCaseSteps Mixins steps/timer~TimerSteps Global afterChunkbeforeChunkchunkCONFexpectforEachLanguagereportersrunscopesessionSStest Source: cli.js &quot;use strict&quot;; /** * Contains functions to execute tests via command line interface. * * @module */ require(&quot;./help&quot;); var path = require(&quot;path&quot;); var run = require(&quot;./run&quot;); /** * Runs `GlaceJS` in CLI. * * @function */ module.exports.run = () =&gt; run(process.exit); Ã— Search results Close "},"config.js.html":{"id":"config.js.html","title":"Source: config.js","body":" GlaseJS Namespaces config~GlaceConfig Modules cliconfigerrorglobalshackinghelpindexmatcherreporter/indexreporter/stdoutreporter/testrailrunnersteps/timertestingutils Classes GlaceReportererror~ConfigErrorerror~GlaceErrorerror~StepErrortesting~TestCaseSteps Mixins steps/timer~TimerSteps Global afterChunkbeforeChunkchunkCONFexpectforEachLanguagereportersrunscopesessionSStest Source: config.js &quot;use strict&quot;; /** * Configures `GlaceJS` before tests run. * * @module */ var fs = require(&quot;fs&quot;); var path = require(&quot;path&quot;); var _ = require(&quot;lodash&quot;); var expect = require(&quot;chai&quot;).expect; var fse = require(&quot;fs-extra&quot;); var U = require(&quot;glace-utils&quot;); var LOG = U.logger; var utils = require(&quot;./utils&quot;); /* Load plugins configs */ utils.plugins(&quot;config&quot;); var config = U.config; var args = config.args; /* Set up test folders */ if (args._ &amp;&amp; args._.length) { var targets = args._; } else if (args.targets &amp;&amp; args.targets.length) { var targets = args.targets; } else { var targets = [&quot;tests&quot;]; }; var testDirs = targets.map(target =&gt; path.resolve(U.cwd, target)) /* Set up reports folder */ var reportsDir = path.resolve(U.cwd, (args.report || &quot;reports&quot;)); if (fs.existsSync(reportsDir)) fse.removeSync(reportsDir); fse.mkdirsSync(reportsDir); /** * Contains `GlaceJS` main configuration. * * @namespace GlaceConfig */ var config = module.exports = _.merge(config, { curTestCase: null, preloads: [], timeouts: { testCase: 180000, }, testCases: [], testDirs: testDirs, reportsDir: reportsDir, testrail: { host: null, user: null, token: null, }, isRunPassed: null, languages: [] }); /* Use CLI arguments */ config.uncaught = (args.uncaught || &quot;log&quot;).toLowerCase(); expect([ &quot;log&quot;, &quot;fail&quot;, &quot;mocha&quot; ], &quot;Invalid `--uncaught` value&quot;).include(config.uncaught); config.rootConftest = args.rootConftest; config.testRetries = args.retry || 0; config.chunkRetries = args.chunkRetry || 0; expect(config.testRetries).gte(0); config.toTestrail = !!args.testrail; // default `false` config.grep = args.grep; config.pluginsDir = args.pluginsDir; if (args.languages) { config.languages = _.filter(_.map(args.languages.split(','), el =&gt; el.trim())); }; /* Merge user config */ var userConfig = {}; var userConfigPath = path.resolve(U.cwd, (args.userConfig || &quot;config.js&quot;)); if (fs.existsSync(userConfigPath)) { userConfig = require(userConfigPath); }; _.assign(config, userConfig); Ã— Search results Close "},"error.js.html":{"id":"error.js.html","title":"Source: error.js","body":" GlaseJS Namespaces config~GlaceConfig Modules cliconfigerrorglobalshackinghelpindexmatcherreporter/indexreporter/stdoutreporter/testrailrunnersteps/timertestingutils Classes GlaceReportererror~ConfigErrorerror~GlaceErrorerror~StepErrortesting~TestCaseSteps Mixins steps/timer~TimerSteps Global afterChunkbeforeChunkchunkCONFexpectforEachLanguagereportersrunscopesessionSStest Source: error.js &quot;use strict&quot;; /** * Contains `GlaceJS` errors. * * @module */ var util = require(&quot;util&quot;); var BaseError = require(&quot;es6-error&quot;); /** * Error which is thrown in `GlaceJS`, if no more specific error is defined. * * @class * @arg {string} message - Error message. */ var GlaceError = module.exports.GlaceError = function (message) { BaseError.call(this, message); }; util.inherits(GlaceError, BaseError); /** * Error which is thrown when configuration is wrong. * * @class * @arg {string} message - Error message. */ var ConfigError = module.exports.ConfigError = function (message) { GlaceError.call(this, message); }; util.inherits(ConfigError, GlaceError); /** * Error which is thrown when step execution is wrong. * * @class * @arg {string} message - Error message. */ var StepError = module.exports.StepError = function (message) { GlaceError.call(this, message); }; util.inherits(StepError, GlaceError); Ã— Search results Close "},"hacking.js.html":{"id":"hacking.js.html","title":"Source: hacking.js","body":" GlaseJS Namespaces config~GlaceConfig Modules cliconfigerrorglobalshackinghelpindexmatcherreporter/indexreporter/stdoutreporter/testrailrunnersteps/timertestingutils Classes GlaceReportererror~ConfigErrorerror~GlaceErrorerror~StepErrortesting~TestCaseSteps Mixins steps/timer~TimerSteps Global afterChunkbeforeChunkchunkCONFexpectforEachLanguagereportersrunscopesessionSStest Source: hacking.js &quot;use strict&quot;; /** * Contains hacks for test run. * * @module */ var LOG = require(&quot;glace-utils&quot;).logger; var Mocha = require(&quot;mocha&quot;); var Pending = require(&quot;mocha/lib/pending&quot;); var CONF = require(&quot;./config&quot;); /** * Patches original `Mocha.Runner.prototype.uncaught` in order to skip * exceptions from proxy server `res.send()`. * * @function */ module.exports.suppressMochaUncaught = () =&gt; { Mocha.Runner.prototype.uncaught = function (err) { LOG.error(&quot;UNCAUGHT EXCEPTION&quot;, err); if (CONF.uncaught === &quot;fail&quot;) { if (CONF.curTestCase) { var errMsg = &quot;Uncaught exception&quot;; if (err.message) { errMsg += &quot;\\nmessage: &quot; + err.message; }; if (err.stack) { errMsg += &quot;\\nstack: &quot; + err.stack; }; if (err.seleniumStack) { errMsg += &quot;\\nselenium: &quot; + JSON.stringify(err.seleniumStack, null, &quot;\\t&quot;); }; CONF.curTestCase.addError(errMsg); }; }; return; }; }; /** * Mocha runner. * * @type {Runner} */ var _mochaRunner; (grep =&gt; { Mocha.Runner.prototype.grep = function() { _mochaRunner = this; return grep.apply(this, arguments); }; })(Mocha.Runner.prototype.grep); /** * Gets mocha runner. * * @function */ module.exports.getRunner = () =&gt; _mochaRunner; /** * Patches mocha runner to allow multiple independent `after`-calls. */ Mocha.Runner.prototype.hook = function (name, fn) { var suite = this.suite; var hooks = suite['_' + name]; var self = this; function next (i) { var hook = hooks[i]; if (!hook) { return fn(); } self.currentRunnable = hook; hook.ctx.currentTest = self.test; self.emit('hook', hook); if (!hook.listeners('error').length) { hook.on('error', function (err) { self.failHook(hook, err); }); } hook.run(function (err) { var testError = hook.error(); if (testError) { self.fail(self.test, testError); } if (err) { if (err instanceof Pending) { if (name === 'beforeEach' || name === 'afterEach') { self.test.pending = true; } else { utils.forEach(suite.tests, function (test) { test.pending = true; }); // a pending hook won't be executed twice. hook.pending = true; } } else { self.failHook(hook, err); // stop executing hooks, notify callee of hook err if (!name.startsWith(&quot;after&quot;)) return fn(err); } } self.emit('hook end', hook); delete hook.ctx.currentTest; next(++i); }); } Mocha.Runner.immediately(function () { next(0); }); }; Ã— Search results Close "},"help.js.html":{"id":"help.js.html","title":"Source: help.js","body":" GlaseJS Namespaces config~GlaceConfig Modules cliconfigerrorglobalshackinghelpindexmatcherreporter/indexreporter/stdoutreporter/testrailrunnersteps/timertestingutils Classes GlaceReportererror~ConfigErrorerror~GlaceErrorerror~StepErrortesting~TestCaseSteps Mixins steps/timer~TimerSteps Global afterChunkbeforeChunkchunkCONFexpectforEachLanguagereportersrunscopesessionSStest Source: help.js &quot;use strict&quot;; /** * Help description. * * @module */ require(&quot;colors&quot;); var U = require(&quot;glace-utils&quot;); var utils = require(&quot;./utils&quot;); var d = U.switchColor(); var result = U.help(d) .usage(&quot;\\nglace [options] [test-files-or-folders]&quot;.white.bold) .options({ /* configuration */ &quot;user-config&quot;: { describe: d(&quot;Path to JS file with configuration which will be&quot;, &quot;merged with override default configuration.&quot;, &quot;Default is 'cwd/config.js' (if it exists).&quot;), type: &quot;string&quot;, group: &quot;Core:&quot;, }, &quot;grep&quot;: { alias: &quot;g&quot;, describe: d(&quot;Filter tests by name or name chunk.&quot;), type: &quot;string&quot;, group: &quot;Core:&quot;, }, &quot;root-conftest&quot;: { describe: d(&quot;Path to root conftest.js which will be loaded&quot;, &quot;before all.&quot;), type: &quot;string&quot;, group: &quot;Core:&quot;, }, &quot;languages&quot;: { describe: d(&quot;List of tested languages separated with comma.&quot;), type: &quot;string&quot;, group: &quot;Core:&quot;, }, &quot;retry&quot;: { describe: d(&quot;Number of times to retry failed test.&quot;, &quot;Default is 0.&quot;), type: &quot;number&quot;, group: &quot;Core:&quot;, }, &quot;chunk-retry&quot;: { describe: d(&quot;Number of times to retry failed chunk.&quot;, &quot;Default is 0.&quot;), type: &quot;number&quot;, group: &quot;Core:&quot;, }, &quot;uncaught&quot;: { describe: d(&quot;Strategy to process of uncaught exceptions.&quot;, &quot;Supported values are 'log', 'fail', 'mocha'.&quot;, &quot;Default value is 'log'.&quot;), type: &quot;string&quot;, group: &quot;Core:&quot;, }, &quot;testrail&quot;: { describe: d(&quot;Activate testrail reporter.&quot;), type: &quot;boolean&quot;, group: &quot;Core:&quot;, }, &quot;plugins-dir [path]&quot;: { describe: d(&quot;Path to plugins folder. By default it search plugins&quot;, &quot;inside folder, where 'glace-core' is installed.&quot;), type: &quot;string&quot;, group: &quot;Core:&quot;, }, }) for (var help of utils.plugins(&quot;pluginHelp&quot;)) { result = help(result, d); }; result .epilog(&quot;Have a green test ;)&quot;.green.bold) .argv; Ã— Search results Close "},"index.js.html":{"id":"index.js.html","title":"Source: index.js","body":" GlaseJS Namespaces config~GlaceConfig Modules cliconfigerrorglobalshackinghelpindexmatcherreporter/indexreporter/stdoutreporter/testrailrunnersteps/timertestingutils Classes GlaceReportererror~ConfigErrorerror~GlaceErrorerror~StepErrortesting~TestCaseSteps Mixins steps/timer~TimerSteps Global afterChunkbeforeChunkchunkCONFexpectforEachLanguagereportersrunscopesessionSStest Source: index.js &quot;use strict&quot;; /** * `GlaceJS` main module. * * @module * * @prop {object} config - {@link module:config|Config} module. * @prop {object} error - {@link module:error|Error} module. * @prop {object} reporter - {@link module:reporter/index|Reporter} module. * @prop {object} run - {@link module:run|run} module. * @prop {object} Steps - {@link module:steps|Steps} module. */ var config, error, reporter, run, Steps; Object.defineProperties(exports, { /** * @type {GlaceConfig} */ config: { get: function() { config = config || require(&quot;./config&quot;); return config; }, }, error: { get: function() { error = error || require(&quot;./error&quot;); return error; }, }, /** * @type {GlaceReporter} */ reporter: { get: function() { reporter = reporter || require(&quot;./reporter&quot;); return reporter; }, }, /** * @type {run} */ run: { get: function() { run = run || require(&quot;./run&quot;); return run; }, }, /** * @type {Steps} */ Steps: { get: function() { Steps = Steps || require(&quot;./steps&quot;); return Steps; }, }, }); Ã— Search results Close "},"matcher.js.html":{"id":"matcher.js.html","title":"Source: matcher.js","body":" GlaseJS Namespaces config~GlaceConfig Modules cliconfigerrorglobalshackinghelpindexmatcherreporter/indexreporter/stdoutreporter/testrailrunnersteps/timertestingutils Classes GlaceReportererror~ConfigErrorerror~GlaceErrorerror~StepErrortesting~TestCaseSteps Mixins steps/timer~TimerSteps Global afterChunkbeforeChunkchunkCONFexpectforEachLanguagereportersrunscopesessionSStest Source: matcher.js &quot;use strict&quot;; /** * Matchers. * * @module */ var _ = require(&quot;lodash&quot;); var Assertion = require(&quot;chai&quot;).Assertion; /** * Checks that correct condition were added correctly. * * @param {string} cond - conditions for assertion. * @param {string} [msg] - message to throw in case of wrong conditions. * @example await SS.checkBalance({ &quot;to be not equal&quot;: 100 }) Steps.prototype.checkBalance = async function (condition) { var currBalance = await this.getBalance(); expect(currBalance).correspond(condition, &quot;Invalid user balance&quot;); }; */ Assertion.prototype.correspond = function (cond, msg) { var matchers, expVal; if (msg) this.__flags.message = msg; if (typeof(cond) === &quot;object&quot;) { if (Object.keys(cond).length !== 1) { throw new Error(&quot;Condition should contain only one key-value pair&quot;); } matchers = Object.keys(cond)[0]; expVal = Object.values(cond)[0]; } else if (typeof(cond) === &quot;string&quot;) { matchers = cond; } else { throw new Error(&quot;Condition should be string or object only&quot;); } matchers = _.filter(_.split(matchers, &quot; &quot;)); var predicate = this; for (var matcher of matchers) { predicate = predicate[matcher]; if (!predicate) throw new TypeError(`Undefined matcher '${matcher}'`); } if (expVal) predicate.call(this, expVal); return this; }; Ã— Search results Close "},"reporter_index.js.html":{"id":"reporter_index.js.html","title":"Source: reporter/index.js","body":" GlaseJS Namespaces config~GlaceConfig Modules cliconfigerrorglobalshackinghelpindexmatcherreporter/indexreporter/stdoutreporter/testrailrunnersteps/timertestingutils Classes GlaceReportererror~ConfigErrorerror~GlaceErrorerror~StepErrortesting~TestCaseSteps Mixins steps/timer~TimerSteps Global afterChunkbeforeChunkchunkCONFexpectforEachLanguagereportersrunscopesessionSStest Source: reporter/index.js &quot;use strict&quot;; /** * GlaceJS reporter package. * * @module */ var CONF = require(&quot;../config&quot;); var base = require(&quot;./base&quot;); var stdout = require(&quot;./stdout&quot;); var testrail = require(&quot;./testrail&quot;); base.register(stdout); if (CONF.toTestrail) base.register(testrail); module.exports = base; Ã— Search results Close "},"reporter_stdout.js.html":{"id":"reporter_stdout.js.html","title":"Source: reporter/stdout.js","body":" GlaseJS Namespaces config~GlaceConfig Modules cliconfigerrorglobalshackinghelpindexmatcherreporter/indexreporter/stdoutreporter/testrailrunnersteps/timertestingutils Classes GlaceReportererror~ConfigErrorerror~GlaceErrorerror~StepErrortesting~TestCaseSteps Mixins steps/timer~TimerSteps Global afterChunkbeforeChunkchunkCONFexpectforEachLanguagereportersrunscopesessionSStest Source: reporter/stdout.js &quot;use strict&quot;; /** * `GlaceJS` stdout reporter. * * @module */ var fs = require(&quot;fs&quot;); var path = require(&quot;path&quot;); var util = require(&quot;util&quot;); var colors = require(&quot;colors&quot;); var MochaReporter = require(&quot;mocha&quot;).reporters.base; var CONF = require(&quot;../config&quot;); var TestCase = require(&quot;../testing&quot;).TestCase; var sessionErrors = []; var indents = 0; var indent = () =&gt; Array(indents).join(&quot; &quot;); var report = fs.createWriteStream( path.resolve(process.cwd(), &quot;report.log&quot;), { flags : &quot;w&quot; }); var stdout = function() { report.write(util.format.apply(util, arguments) + &quot;\\n&quot;); console.log.apply(console, arguments); }; var epilogue = () =&gt; { var indent = &quot; &quot;; var passedTests = []; var failedTests = []; for (var testCase of CONF.testCases) { if (testCase.status === TestCase.FAILED) { failedTests.push(testCase); }; if (testCase.status === TestCase.PASSED) { passedTests.push(testCase); }; }; if (passedTests.length !== 0) { var msg = &quot;passed test&quot; + (passedTests.length === 1 ? &quot;&quot; : &quot;s&quot;); stdout((indent + MochaReporter.symbols.ok + &quot; &quot; + String(passedTests.length).bold + &quot; &quot; + msg).green); }; if (failedTests.length !== 0) { var msg = &quot;failed test&quot; + (failedTests.length === 1 ? &quot;&quot; : &quot;s&quot;); stdout((indent + MochaReporter.symbols.err + &quot; &quot; + String(failedTests.length).bold + &quot; &quot; + msg).red); }; if (failedTests.length) { stdout(); stdout(&quot;TEST FAILURES:&quot;.bold) for (var testCase of failedTests) { stdout(); stdout((&quot;test: &quot; + testCase.name).cyan.bold); for(var err of testCase.errors) { stdout(); stdout(err.red.bold); }; }; }; if (sessionErrors.length) { stdout(); stdout(&quot;OUTTEST FAILURES:&quot;.bold); for (var error of sessionErrors) { stdout(); stdout(error.red.bold); }; }; }; var stdoutReporter = module.exports = { /** * Called before tests end. * * @method * @instance */ end: () =&gt; { epilogue(); stdout(); var reportMsg = &quot;Local report is &quot; + CONF.reportsDir; stdout(Array(reportMsg.length + 1).join(&quot;-&quot;).yellow); stdout(reportMsg.yellow); }, /** * Called on scope start. * * @method * @instance * @arg {object} scope - `MochaJS` suite. */ scope: scope =&gt; { ++indents; if (indents !== 1) { stdout(); stdout((indent() + &quot;scope: &quot; + scope.title).cyan); }; }, /** * Called before scope end. * * @method * @instance * @arg {object} scope - `MochaJS` suite. */ scopeEnd: scope =&gt; { --indents; if (indents === 1) stdout(); }, /** * Called on test start. * * @method * @instance * @arg {object} test - `MochaJS` suite. */ test: test =&gt; { ++indents; stdout(); stdout((indent() + &quot;test: &quot; + test.title).cyan.bold); }, /** * Called on test end. * * @method * @instance * @arg {object} test - `MochaJS` suite. */ testEnd: test =&gt; { --indents; if (indents === 1) stdout(); }, /** * Called on chunk passed. * * @method * @instance * @arg {object} chunk - `MochaJS` test. */ pass: chunk =&gt; { var msg = indent() + &quot; &quot; + MochaReporter.symbols.ok + &quot; chunk&quot;; if (chunk.title) msg += &quot;: &quot; + chunk.title; stdout(msg.green); }, /** * Called on chunk or hook failed. * * @method * @instance * @arg {object} chunk - `MochaJS` test. */ fail: (chunk, err) =&gt; { if (!CONF.curTestCase) { var errMsg = chunk.title; if (err.message) { errMsg += &quot;\\nmessage: &quot; + err.message; }; if (err.stack) { errMsg += &quot;\\nstack: &quot; + err.stack; }; if (err.seleniumStack) { errMsg += &quot;\\nselenium: &quot; + JSON.stringify(err.seleniumStack, null, &quot;\\t&quot;); }; sessionErrors.push(errMsg); }; var msg = indent() + &quot; &quot; + MochaReporter.symbols.err + &quot; chunk&quot;; if (chunk.title) msg += &quot;: &quot; + chunk.title; stdout(msg.red); }, /** * Called on report finalizing. * * @method * @instance */ done: () =&gt; new Promise(resolve =&gt; report.end(resolve)), }; Ã— Search results Close "},"reporter_testrail.js.html":{"id":"reporter_testrail.js.html","title":"Source: reporter/testrail.js","body":" GlaseJS Namespaces config~GlaceConfig Modules cliconfigerrorglobalshackinghelpindexmatcherreporter/indexreporter/stdoutreporter/testrailrunnersteps/timertestingutils Classes GlaceReportererror~ConfigErrorerror~GlaceErrorerror~StepErrortesting~TestCaseSteps Mixins steps/timer~TimerSteps Global afterChunkbeforeChunkchunkCONFexpectforEachLanguagereportersrunscopesessionSStest Source: reporter/testrail.js &quot;use strict&quot;; /** * TestRail reporter. * * @module */ var _ = require(&quot;lodash&quot;); var Testrail = require('testrail-api'); var CONF = require(&quot;../config&quot;); var TestCase = require(&quot;../testing&quot;).TestCase; var testrail = new Testrail({ host: CONF.testrail.host, user: CONF.testrail.user, password: CONF.testrail.token }); var Results = { PASSED: 1, BLOCKED: 2, UNTESTED: 3, RETEST: 4, FAILED: 5 }; var cases = {}; var report = Promise.resolve(); var testrailReporter = module.exports = { /** * Called on tests start. * * @method * @instance */ start: () =&gt; { report = report.then(() =&gt; { return new Promise((resolve, reject) =&gt; { testrail.getCases( CONF.testrail.project, { suite_id: CONF.testrail.suiteId }, (err, _cases) =&gt; { if (err) reject(err); for (var _case of _cases) { if (cases[_case.title]) { reject(`Detect duplicated cases with name \\ '${_case.title}'. Only unique names \\ should be.`); }; cases[_case.title] = { id: _case.id }; }; resolve(); }); }); }).then(() =&gt; { return new Promise((resolve, reject) =&gt; { testrail.addRun( CONF.testrail.project, { suite_id: CONF.testrail.suiteId, name: CONF.testrail.suiteName, description: description }, (err, run) =&gt; { if (err) reject(err); CONF.testrail.runId = run.id; resolve(); }); }); }); }, /** * Called before tests end. * * @method * @instance */ end: () =&gt; { console.log(); var reportMsg = &quot;TestRail report is &quot; + CONF.testrail.reportUrl + CONF.testrail.runId; console.log(Array(reportMsg.length + 1).join(&quot;-&quot;).yellow); console.log(reportMsg.yellow); }, /** * Called on test end. * * @method * @instance * @arg {object} test - `MochaJS` suite. */ testEnd: test =&gt; { var testCase = CONF.testCases.filter(t =&gt; t.name === test.title)[0]; var testrailCase = cases[test.title]; if (!testrailCase) return; var testResult = { status_id: Results.PASSED, comment: &quot;&quot; }; if (testCase.screenshots.length) { testResult.comment += &quot;\\n&quot;; for (var screen of testCase.screenshots) { testResult.comment += &quot;\\n&quot; + screen; }; }; if (testCase.videos.length) { testResult.comment += &quot;\\n&quot;; for (var video of testCase.videos) { testResult.comment += &quot;\\n&quot; + video; }; }; if (testCase.status === TestCase.FAILED) { testResult.status_id = Results.FAILED; testResult.comment += &quot;\\n&quot;; for (var error of testCase.errors) { testResult.comment += &quot;\\n&quot; + error; }; }; report = report.then(() =&gt; { return new Promise((resolve, reject) =&gt; { testrail.addResultForCase( CONF.testrail.runId, testrailCase.id, testResult, (err, res) =&gt; { if (err) reject(err); resolve(res); }); }); }); }, /** * Called on report finalizing. * * @method * @instance */ done: () =&gt; { return report; }, }; Ã— Search results Close "},"runner.js.html":{"id":"runner.js.html","title":"Source: runner.js","body":" GlaseJS Namespaces config~GlaceConfig Modules cliconfigerrorglobalshackinghelpindexmatcherreporter/indexreporter/stdoutreporter/testrailrunnersteps/timertestingutils Classes GlaceReportererror~ConfigErrorerror~GlaceErrorerror~StepErrortesting~TestCaseSteps Mixins steps/timer~TimerSteps Global afterChunkbeforeChunkchunkCONFexpectforEachLanguagereportersrunscopesessionSStest Source: runner.js &quot;use strict&quot;; /** * Makes tests root session. * * - runner loads root `conftest.js` if it is located on one level with * each of `CONF.testDirs`; * - if each of `CONF.testDirs` is file with tests, runner loads and executes it; * - if each of `CONF.testDirs` is folder runner loads files inside recursive if * file name starts with `test` and ends with `.js`; * - inside each subfolder of each of `CONF.testDirs` runner loads `conftest.js` * file if it is present; * * @module */ var fs = require(&quot;fs&quot;); var path = require(&quot;path&quot;) var expect = require(&quot;chai&quot;).expect; require(&quot;./globals&quot;); var ConfigError = require(&quot;./error&quot;).ConfigError; var preloads = CONF.preloads; if (CONF.rootConftest) preloads = preloads.concat(CONF.rootConftest); for (var preload of preloads) { expect(fs.existsSync(preload) &amp;&amp; fs.statSync(preload).isFile(), `Preloader '${preload}' isn't a file or doesn't exist`) .to.be.true; require(preload); }; /* Checks test dirs and load sibling conftests */ for (var testDir of CONF.testDirs) { if (!fs.existsSync(testDir)) { throw new ConfigError( `File or folder with tests &quot;${testDir}&quot; doesn't exist`); }; var siblingConftest = path.resolve(path.dirname(testDir), &quot;conftest.js&quot;); if (fs.existsSync(siblingConftest)) require(siblingConftest); }; /* Starts session */ session(() =&gt; { for (var testDir of CONF.testDirs) { if (!fs.statSync(testDir).isDirectory()) { require(testDir); continue; }; var loadTests = dir =&gt; { for (var fileName of fs.readdirSync(dir)) { var filePath = path.resolve(dir, fileName); if (fileName === &quot;conftest.js&quot;) require(filePath); if (fileName.startsWith(&quot;test&quot;) &amp;&amp; fileName.endsWith(&quot;.js&quot;)) { require(filePath); }; if (fs.lstatSync(filePath).isDirectory()) { loadTests(filePath); }; }; }; loadTests(testDir); }; }); Ã— Search results Close "},"steps_timer.js.html":{"id":"steps_timer.js.html","title":"Source: steps/timer.js","body":" GlaseJS Namespaces config~GlaceConfig Modules cliconfigerrorglobalshackinghelpindexmatcherreporter/indexreporter/stdoutreporter/testrailrunnersteps/timertestingutils Classes GlaceReportererror~ConfigErrorerror~GlaceErrorerror~StepErrortesting~TestCaseSteps Mixins steps/timer~TimerSteps Global afterChunkbeforeChunkchunkCONFexpectforEachLanguagereportersrunscopesessionSStest Source: steps/timer.js &quot;use strict&quot;; /** * Time steps. * * @module */ /** * Steps to measure time. * * @mixin TimerSteps */ module.exports = { /** * Step to start timer. * * @method * @instance */ startTimer: function () { this._timer = new Date; }, /** * Step to stop timer. * * @method * @instance */ stopTimer: function () { this._timer = null; }, /** * Step to check timer. * * @method * @instance * @arg {string|object} condition - chaijs condition. * @throws {AssertionError} - If timer verification is failed. */ checkTimer: function (condition) { expect(this._timer, &quot;Timer isn't started&quot;).to.exist; var diff = (new Date - this._timer) / 1000; expect(diff, &quot;Timing is failed&quot;).to.correspond(condition); }, }; Ã— Search results Close "},"testing.js.html":{"id":"testing.js.html","title":"Source: testing.js","body":" GlaseJS Namespaces config~GlaceConfig Modules cliconfigerrorglobalshackinghelpindexmatcherreporter/indexreporter/stdoutreporter/testrailrunnersteps/timertestingutils Classes GlaceReportererror~ConfigErrorerror~GlaceErrorerror~StepErrortesting~TestCaseSteps Mixins steps/timer~TimerSteps Global afterChunkbeforeChunkchunkCONFexpectforEachLanguagereportersrunscopesessionSStest Source: testing.js &quot;use strict&quot;; /** * Contains classes and functions to save executed tests data. * * @module */ var _ = require(&quot;lodash&quot;); /** * Test case data structure. * * Contains full information and history about test case. * * @class * @arg {string} name - Test case name. */ var TestCase = module.exports.TestCase = function (name) { this.name = name; this.status = TestCase.NOT_STARTED; }; /** * Resets test case info. * * @method */ TestCase.prototype.reset = function () { this.screenshots = []; this.errors = []; this.failedParams = []; this.testParams = {}; }; /** * Adds failed params if they don't exist. * * @method * @arg {object} params - Params which test was failed with. */ TestCase.prototype.addFailedParams = function (params) { for (var failed of this.failedParams) { if (_.isEqual(params, failed)) break; }; this.failedParams.push(params); }; /** * Adds error to test case. * * @method * @arg {Error} err - Error. */ TestCase.prototype.addError = function (err) { this.errors.push(err); }; /** * Adds screenshot. * * @method * @arg {string} imagePath - Path to saved screenshot. */ TestCase.prototype.addScreenshot = function (imagePath) { this.screenshots.push(imagePath); }; TestCase.NOT_STARTED = &quot;not started&quot;; TestCase.IN_PROGRESS = &quot;in progress&quot;; TestCase.FAILED = &quot;failed&quot;; TestCase.PASSED = &quot;passed&quot;; Ã— Search results Close "},"utils.js.html":{"id":"utils.js.html","title":"Source: utils.js","body":" GlaseJS Namespaces config~GlaceConfig Modules cliconfigerrorglobalshackinghelpindexmatcherreporter/indexreporter/stdoutreporter/testrailrunnersteps/timertestingutils Classes GlaceReportererror~ConfigErrorerror~GlaceErrorerror~StepErrortesting~TestCaseSteps Mixins steps/timer~TimerSteps Global afterChunkbeforeChunkchunkCONFexpectforEachLanguagereportersrunscopesessionSStest Source: utils.js &quot;use strict&quot;; /** * Utils. * * @module */ var fs = require(&quot;fs&quot;); var path = require(&quot;path&quot;); var _ = require(&quot;lodash&quot;); var expect = require(&quot;chai&quot;).expect; var U = require(&quot;glace-utils&quot;); var args = U.config.args; var LOG = U.logger; var plugins = null; module.exports.plugins = moduleName =&gt; { if (!plugins) { var pluginPaths = [], pluginNames = []; if (args.pluginsDir) { expect(fs.existsSync(args.pluginsDir), `Plugins folder '${args.pluginsDir}' doesn't exist`) .to.be.true; for (var fileName of fs.readdirSync(args.pluginsDir)) { if (!pluginNames.includes(fileName)) { pluginNames.push(fileName); pluginPaths.push(path.resolve(args.pluginsDir, fileName)); }; }; }; if (!args.disableDefaultPlugins) { var pluginsRoot = require.main.filename; var glaceRoot = path.resolve(__dirname, &quot;..&quot;, &quot;..&quot;); while (!glaceRoot.startsWith(pluginsRoot) &amp;&amp; pluginsRoot !== path.dirname(pluginsRoot)) { pluginsRoot = path.dirname(pluginsRoot); }; var pluginDirs = _.clone(module.paths) .reverse() .filter(filePath =&gt; filePath.startsWith(pluginsRoot)); var skipped = [ &quot;glace-js&quot;, &quot;glace-core&quot;, &quot;glace-utils&quot; ]; for (var pluginDir of pluginDirs) { if (!fs.existsSync(pluginDir)) continue; for (var fileName of fs.readdirSync(pluginDir)) { if (fileName.startsWith(&quot;glace-&quot;) &amp;&amp; !skipped.includes(fileName) &amp;&amp; !pluginNames.includes(fileName)) { pluginNames.push(fileName); pluginPaths.push(path.resolve(pluginDir, fileName)); }; }; }; }; plugins = []; for (var pluginPath of pluginPaths) { try { plugins.push(require(pluginPath)); } catch (e) { LOG.warn(`Can't load plugin '${pluginPath}'`); }; }; }; var modules = []; for (var plugin of plugins) { var mod = plugin[moduleName]; if (mod) modules.push(mod); }; return modules; }; Ã— Search results Close "},"run.js.html":{"id":"run.js.html","title":"Source: run.js","body":" GlaseJS Namespaces config~GlaceConfig Modules cliconfigerrorglobalshackinghelpindexmatcherreporter/indexreporter/stdoutreporter/testrailrunnersteps/timertestingutils Classes GlaceReportererror~ConfigErrorerror~GlaceErrorerror~StepErrortesting~TestCaseSteps Mixins steps/timer~TimerSteps Global afterChunkbeforeChunkchunkCONFexpectforEachLanguagereportersrunscopesessionSStest Source: run.js &quot;use strict&quot;; /** * Runs tests. * * - executes `runner.js` file, which is entry point to load and execute * files with tests * - connects custom reporter to `mochajs`. * * @function * @name run * @arg {function} cb - Callback. */ var path = require(&quot;path&quot;); var Mocha = require(&quot;mocha&quot;); var CONF = require(&quot;./config&quot;); var hacking = require(&quot;./hacking&quot;); var run = cb =&gt; { if (CONF.uncaught !== &quot;mocha&quot;) hacking.suppressMochaUncaught(); var mocha = new Mocha({ grep: CONF.grep, timeout: CONF.timeouts.testCase, retries: CONF.chunkRetries, reporter: path.resolve(__dirname, &quot;reporter&quot;) }); mocha.addFile(path.resolve(__dirname, &quot;runner.js&quot;)); var _run = fin =&gt; { mocha.run(code =&gt; { var clampedCode = Math.min(code, 255); if (CONF.isRunPassed) clampedCode = 0; fin(clampedCode); }); }; if (cb) { _run(cb); } else { return new Promise(resolve =&gt; _run(resolve)); }; }; module.exports = run; Ã— Search results Close "},"steps_index.js.html":{"id":"steps_index.js.html","title":"Source: steps/index.js","body":" GlaseJS Namespaces config~GlaceConfig Modules cliconfigerrorglobalshackinghelpindexmatcherreporter/indexreporter/stdoutreporter/testrailrunnersteps/timertestingutils Classes GlaceReportererror~ConfigErrorerror~GlaceErrorerror~StepErrortesting~TestCaseSteps Mixins steps/timer~TimerSteps Global afterChunkbeforeChunkchunkCONFexpectforEachLanguagereportersrunscopesessionSStest Source: steps/index.js &quot;use strict&quot;; /** * Steps collection which will be executed in test cases. * * @class * @name Steps * @mixes TimerSteps */ var _ = require(&quot;lodash&quot;); var U = require(&quot;glace-utils&quot;); var LOG = U.logger; var CONF = require(&quot;../config&quot;); var utils = require(&quot;../utils&quot;); var Steps = function () { this.config = CONF; }; module.exports = Steps; /** * Step to make pause in another step or test case. Good style to rid of * its direct usage in test case, only inside other step. * * @method * @async * @arg {number} timeout - Pause time, sec. * @arg {string} message - Pause reason. * @return {Promise&lt;void&gt;} */ Steps.prototype.pause = async function (timeout, message) { expect(message, &quot;Pause message is not defined&quot;).to.not.be.undefined; LOG.warn(&quot;Sleep&quot;, timeout, &quot;sec, reason:&quot;, message); await U.sleep(timeout * 1000); }; /** * Registers sequence of objects containing steps. * * @method * @static */ Steps.register = function () { for (var obj of arguments) { _.assign(this.prototype, obj); }; }; /* Load plugins steps */ Steps.register.apply(Steps, utils.plugins(&quot;Steps&quot;)); Ã— Search results Close "},"global.html":{"id":"global.html","title":"Global","body":" GlaseJS Namespaces config~GlaceConfig Modules cliconfigerrorglobalshackinghelpindexmatcherreporter/indexreporter/stdoutreporter/testrailrunnersteps/timertestingutils Classes GlaceReportererror~ConfigErrorerror~GlaceErrorerror~StepErrortesting~TestCaseSteps Mixins steps/timer~TimerSteps Global afterChunkbeforeChunkchunkCONFexpectforEachLanguagereportersrunscopesessionSStest Global Members CONF GlaceJS config. Source: globals.js, line 51 See: config to get more details about its options. reporters :Array.&lt;object&gt; Registered reporters. Type: Array.&lt;object&gt; Source: reporter/base.js, line 23 SS Atomic steps collection. Source: globals.js, line 58 See: steps to get more details about its methods. Methods afterChunk(name, func) Executes after each test chunk. Parameters: Name Type Description name string Name of test case. func function Hook function. Source: globals.js, line 362 Example test(&quot;Some test&quot;, () =&gt; { afterChunk(() =&gt; { someFunc(); }); chunk(&quot;Chunk #1&quot;, () =&gt; { someFunc(); }); chunk(&quot;Chunk #2&quot;, () =&gt; { someFunc(); }); }); beforeChunk(name, func) Executes before each test chunk. Parameters: Name Type Description name string Name of test case. func function Hook function. Source: globals.js, line 339 Example test(&quot;Some test&quot;, () =&gt; { beforeChunk(() =&gt; { someFunc(); }); chunk(&quot;Chunk #1&quot;, () =&gt; { someFunc(); }); chunk(&quot;Chunk #2&quot;, () =&gt; { someFunc(); }); }); chunk( [name], func) Executes test chunk. Contains actions and verifications, which will be executed separatly from another chunks. This function is used to organize test structure and to allocate independent test actions. Parameters: Name Type Argument Description name string &lt;optional&gt; Name of test case. func function Step function. Source: globals.js, line 310 Example test(&quot;Some test&quot;, () =&gt; { chunk(&quot;Some chunk&quot;, () =&gt; { someFunc(); }); }); expect(actualValue) chaijs expect function. Parameters: Name Type Description actualValue * Some actual value which should be checked. Source: globals.js, line 44 See: chaijs to get more details about `expect` usage. Example expect(1).to.be.equal(1); expect(2).to.be.gte(0); forEachLanguage( [ctx] [, opts] [, fixtures], func) Iterates test chunks through all languages specifed in config. It's applicable for multilingual application. If list of languages is specified, it will be used firstly. Otherwise from configuration. Parameters: Name Type Argument Description ctx object &lt;optional&gt; Test case context. opts object &lt;optional&gt; Options. fixtures Array.&lt;function()&gt; &lt;optional&gt; Involved fixtures list. func function Function with test steps. Source: globals.js, line 392 Example test(&quot;Some test&quot;, ctx =&gt; { forEachLanguage(ctx, lang =&gt; { beforeChunk(() =&gt; { someFunc(); }); chunk(&quot;Chunk #1&quot;, () =&gt; { someFunc(); }); chunk(&quot;Chunk #2&quot;, () =&gt; { someFunc(); }); }); }); run(cb) Runs tests. executes runner.js file, which is entry point to load and execute files with tests connects custom reporter to mochajs. Parameters: Name Type Description cb function Callback. Source: run.js, line 2 scope(name [, fixtures], func) Execute tests scope. Parameters: Name Type Argument Description name string Scope name. fixtures Array.&lt;function()&gt; &lt;optional&gt; List of fixtures. func function Function with test cases. Source: globals.js, line 84 Example scope(&quot;Some test scope&quot;, () =&gt; { test(&quot;Some test name&quot;, () =&gt; { before(() =&gt; { someFunc(); }); chunk(&quot;chunk #1&quot;, () =&gt; { someFunc(); }); chunk(&quot;chunk #2&quot;, () =&gt; { someFunc(); }); }); }); session( [name] [, ctx], func) Executes tests session. Parameters: Name Type Argument Description name string &lt;optional&gt; Session name. By default it includes start date time. ctx object &lt;optional&gt; Session context. By default it's empty. func function Function with test cases. Source: globals.js, line 129 Example session(() =&gt; { test(&quot;Test #1&quot;, () =&gt; { chunk(&quot;Chunk #1&quot;, () =&gt; { someFunc(); }); chunk(&quot;Chunk #2&quot;, () =&gt; { someFunc(); }); }); test(&quot;Test #2&quot;, () =&gt; { chunk(&quot;Chunk #1&quot;, () =&gt; { someFunc(); }); chunk(&quot;Chunk #2&quot;, () =&gt; { someFunc(); }); }); }); test(name [, opts] [, fixtures], func) Executes test case. Parameters: Name Type Argument Description name string Name of test case. opts object &lt;optional&gt; Options. Properties Name Type Argument Default Description video boolean &lt;optional&gt; true Flag to involve video fixture. skip boolean &lt;optional&gt; false Flag to skip test. retry number &lt;optional&gt; 0 Number of retries on failure. May be managed in config. fixtures Array.&lt;function()&gt; &lt;optional&gt; Involved fixtures list. func function Test function. Source: globals.js, line 285 Example test(&quot;Some test&quot;, () =&gt; { chunk(&quot;Some chunk&quot;, () =&gt; { someFunc(); }); }); Ã— Search results Close "},"modules.list.html":{"id":"modules.list.html","title":"Modules","body":" GlaseJS Namespaces config~GlaceConfig Modules cliconfigerrorglobalshackinghelpindexmatcherreporter/indexreporter/stdoutreporter/testrailrunnersteps/timertestingutils Classes GlaceReportererror~ConfigErrorerror~GlaceErrorerror~StepErrortesting~TestCaseSteps Mixins steps/timer~TimerSteps Global afterChunkbeforeChunkchunkCONFexpectforEachLanguagereportersrunscopesessionSStest Modules Classes GlaceReporter ConfigError GlaceError StepError TestCase Steps Mixins TimerSteps Namespaces GlaceConfig Ã— Search results Close "},"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" GlaseJS Namespaces config~GlaceConfig Modules cliconfigerrorglobalshackinghelpindexmatcherreporter/indexreporter/stdoutreporter/testrailrunnersteps/timertestingutils Classes GlaceReportererror~ConfigErrorerror~GlaceErrorerror~StepErrortesting~TestCaseSteps Mixins steps/timer~TimerSteps Global afterChunkbeforeChunkchunkCONFexpectforEachLanguagereportersrunscopesessionSStest Classes Classes GlaceReporter ConfigError GlaceError StepError TestCase Steps Mixins TimerSteps Namespaces GlaceConfig Ã— Search results Close "},"namespaces.list.html":{"id":"namespaces.list.html","title":"Namespaces","body":" GlaseJS Namespaces config~GlaceConfig Modules cliconfigerrorglobalshackinghelpindexmatcherreporter/indexreporter/stdoutreporter/testrailrunnersteps/timertestingutils Classes GlaceReportererror~ConfigErrorerror~GlaceErrorerror~StepErrortesting~TestCaseSteps Mixins steps/timer~TimerSteps Global afterChunkbeforeChunkchunkCONFexpectforEachLanguagereportersrunscopesessionSStest Namespaces Classes GlaceReporter ConfigError GlaceError StepError TestCase Steps Mixins TimerSteps Namespaces GlaceConfig Ã— Search results Close "},"mixins.list.html":{"id":"mixins.list.html","title":"Mixins","body":" GlaseJS Namespaces config~GlaceConfig Modules cliconfigerrorglobalshackinghelpindexmatcherreporter/indexreporter/stdoutreporter/testrailrunnersteps/timertestingutils Classes GlaceReportererror~ConfigErrorerror~GlaceErrorerror~StepErrortesting~TestCaseSteps Mixins steps/timer~TimerSteps Global afterChunkbeforeChunkchunkCONFexpectforEachLanguagereportersrunscopesessionSStest Mixins Classes GlaceReporter ConfigError GlaceError StepError TestCase Steps Mixins TimerSteps Namespaces GlaceConfig Ã— Search results Close "},"index.html":{"id":"index.html","title":"Index","body":" GlaseJS Namespaces config~GlaceConfig Modules cliconfigerrorglobalshackinghelpindexmatcherreporter/indexreporter/stdoutreporter/testrailrunnersteps/timertestingutils Classes GlaceReportererror~ConfigErrorerror~GlaceErrorerror~StepErrortesting~TestCaseSteps Mixins steps/timer~TimerSteps Global afterChunkbeforeChunkchunkCONFexpectforEachLanguagereportersrunscopesessionSStest Glace (fr. glacÃ© â€” ice, frozen) is a cold drink based on coffee with addition of ice cream. GlaceJS minimal package. Ã— Search results Close "},"GlaceReporter.html":{"id":"GlaceReporter.html","title":"Class: GlaceReporter","body":" GlaseJS Namespaces config~GlaceConfig Modules cliconfigerrorglobalshackinghelpindexmatcherreporter/indexreporter/stdoutreporter/testrailrunnersteps/timertestingutils Classes GlaceReportererror~ConfigErrorerror~GlaceErrorerror~StepErrortesting~TestCaseSteps Mixins steps/timer~TimerSteps Global afterChunkbeforeChunkchunkCONFexpectforEachLanguagereportersrunscopesessionSStest Class: GlaceReporter GlaceReporter new GlaceReporter(runner) GlaceJS common reporter. Parameters: Name Type Description runner object MochaJS runner. Source: reporter/base.js, line 2 Methods &lt;static&gt; register(reporters) Registers reporters if they are not. Parameters: Name Type Argument Description reporters object &lt;repeatable&gt; Sequence of reporters to register. Source: reporter/base.js, line 152 &lt;static&gt; remove(reporters) Removes reporters if they are registered. Parameters: Name Type Argument Description reporters object &lt;repeatable&gt; Sequence of reporters to remove. Source: reporter/base.js, line 166 &lt;async&gt; done(failures, fn) Finalizes reporting. Parameters: Name Type Description failures Array.&lt;*&gt; Tests failures. fn function Finalizator. Source: reporter/base.js, line 134 Ã— Search results Close "},"module-cli.html":{"id":"module-cli.html","title":"Module: cli","body":" GlaseJS Namespaces config~GlaceConfig Modules cliconfigerrorglobalshackinghelpindexmatcherreporter/indexreporter/stdoutreporter/testrailrunnersteps/timertestingutils Classes GlaceReportererror~ConfigErrorerror~GlaceErrorerror~StepErrortesting~TestCaseSteps Mixins steps/timer~TimerSteps Global afterChunkbeforeChunkchunkCONFexpectforEachLanguagereportersrunscopesessionSStest Module: cli Contains functions to execute tests via command line interface. Source: cli.js, line 2 Methods &lt;static&gt; run() Runs GlaceJS in CLI. Source: cli.js, line 18 Ã— Search results Close "},"module-config.html":{"id":"module-config.html","title":"Module: config","body":" GlaseJS Namespaces config~GlaceConfig Modules cliconfigerrorglobalshackinghelpindexmatcherreporter/indexreporter/stdoutreporter/testrailrunnersteps/timertestingutils Classes GlaceReportererror~ConfigErrorerror~GlaceErrorerror~StepErrortesting~TestCaseSteps Mixins steps/timer~TimerSteps Global afterChunkbeforeChunkchunkCONFexpectforEachLanguagereportersrunscopesessionSStest Module: config Configures GlaceJS before tests run. Source: config.js, line 2 Namespaces GlaceConfig Ã— Search results Close "},"module-config-GlaceConfig.html":{"id":"module-config-GlaceConfig.html","title":"Namespace: GlaceConfig","body":" GlaseJS Namespaces config~GlaceConfig Modules cliconfigerrorglobalshackinghelpindexmatcherreporter/indexreporter/stdoutreporter/testrailrunnersteps/timertestingutils Classes GlaceReportererror~ConfigErrorerror~GlaceErrorerror~StepErrortesting~TestCaseSteps Mixins steps/timer~TimerSteps Global afterChunkbeforeChunkchunkCONFexpectforEachLanguagereportersrunscopesessionSStest Namespace: GlaceConfig config~ GlaceConfig Contains GlaceJS main configuration. Source: config.js, line 44 Ã— Search results Close "},"module-error.html":{"id":"module-error.html","title":"Module: error","body":" GlaseJS Namespaces config~GlaceConfig Modules cliconfigerrorglobalshackinghelpindexmatcherreporter/indexreporter/stdoutreporter/testrailrunnersteps/timertestingutils Classes GlaceReportererror~ConfigErrorerror~GlaceErrorerror~StepErrortesting~TestCaseSteps Mixins steps/timer~TimerSteps Global afterChunkbeforeChunkchunkCONFexpectforEachLanguagereportersrunscopesessionSStest Module: error Contains GlaceJS errors. Source: error.js, line 2 Classes ConfigError GlaceError StepError Ã— Search results Close "},"module-error-ConfigError.html":{"id":"module-error-ConfigError.html","title":"Class: ConfigError","body":" GlaseJS Namespaces config~GlaceConfig Modules cliconfigerrorglobalshackinghelpindexmatcherreporter/indexreporter/stdoutreporter/testrailrunnersteps/timertestingutils Classes GlaceReportererror~ConfigErrorerror~GlaceErrorerror~StepErrortesting~TestCaseSteps Mixins steps/timer~TimerSteps Global afterChunkbeforeChunkchunkCONFexpectforEachLanguagereportersrunscopesessionSStest Class: ConfigError error~ ConfigError new ConfigError(message) Error which is thrown when configuration is wrong. Parameters: Name Type Description message string Error message. Source: error.js, line 26 Ã— Search results Close "},"module-error-GlaceError.html":{"id":"module-error-GlaceError.html","title":"Class: GlaceError","body":" GlaseJS Namespaces config~GlaceConfig Modules cliconfigerrorglobalshackinghelpindexmatcherreporter/indexreporter/stdoutreporter/testrailrunnersteps/timertestingutils Classes GlaceReportererror~ConfigErrorerror~GlaceErrorerror~StepErrortesting~TestCaseSteps Mixins steps/timer~TimerSteps Global afterChunkbeforeChunkchunkCONFexpectforEachLanguagereportersrunscopesessionSStest Class: GlaceError error~ GlaceError new GlaceError(message) Error which is thrown in GlaceJS, if no more specific error is defined. Parameters: Name Type Description message string Error message. Source: error.js, line 16 Ã— Search results Close "},"module-error-StepError.html":{"id":"module-error-StepError.html","title":"Class: StepError","body":" GlaseJS Namespaces config~GlaceConfig Modules cliconfigerrorglobalshackinghelpindexmatcherreporter/indexreporter/stdoutreporter/testrailrunnersteps/timertestingutils Classes GlaceReportererror~ConfigErrorerror~GlaceErrorerror~StepErrortesting~TestCaseSteps Mixins steps/timer~TimerSteps Global afterChunkbeforeChunkchunkCONFexpectforEachLanguagereportersrunscopesessionSStest Class: StepError error~ StepError new StepError(message) Error which is thrown when step execution is wrong. Parameters: Name Type Description message string Error message. Source: error.js, line 36 Ã— Search results Close "},"module-globals.html":{"id":"module-globals.html","title":"Module: globals","body":" GlaseJS Namespaces config~GlaceConfig Modules cliconfigerrorglobalshackinghelpindexmatcherreporter/indexreporter/stdoutreporter/testrailrunnersteps/timertestingutils Classes GlaceReportererror~ConfigErrorerror~GlaceErrorerror~StepErrortesting~TestCaseSteps Mixins steps/timer~TimerSteps Global afterChunkbeforeChunkchunkCONFexpectforEachLanguagereportersrunscopesessionSStest Module: globals Contains global framework functions and helpers. Source: globals.js, line 2 Members &lt;inner&gt; sessNum :Number Executed sessions counter. Type: Number Source: globals.js, line 98 Methods &lt;abstract, inner&gt; baseTest(name [, opts] [, fixtures], func) Basis for any test case. If test with the same was registered already, this test will be omitted with corresponding error in log. If retries amount is specified and this test was failed, the test will be added to queue in separated session with title containing Retry and its number. Parameters: Name Type Argument Description name string Name of test case. opts object &lt;optional&gt; Options. Properties Name Type Argument Default Description skip boolean &lt;optional&gt; false Flag to skip test. retry number &lt;optional&gt; 0 Number of retries on failure. May be managed in config. fixtures Array.&lt;function()&gt; &lt;optional&gt; Involved fixtures list. func function Test function. Source: globals.js, line 179 &lt;inner&gt; setLog() Helper to set actual log file. Source: globals.js, line 24 Ã— Search results Close "},"module-hacking.html":{"id":"module-hacking.html","title":"Module: hacking","body":" GlaseJS Namespaces config~GlaceConfig Modules cliconfigerrorglobalshackinghelpindexmatcherreporter/indexreporter/stdoutreporter/testrailrunnersteps/timertestingutils Classes GlaceReportererror~ConfigErrorerror~GlaceErrorerror~StepErrortesting~TestCaseSteps Mixins steps/timer~TimerSteps Global afterChunkbeforeChunkchunkCONFexpectforEachLanguagereportersrunscopesessionSStest Module: hacking Contains hacks for test run. Source: hacking.js, line 2 Members &lt;inner&gt; _mochaRunner :Runner Mocha runner. Type: Runner Source: hacking.js, line 46 Methods &lt;static&gt; getRunner() Gets mocha runner. Source: hacking.js, line 58 &lt;static&gt; suppressMochaUncaught() Patches original Mocha.Runner.prototype.uncaught in order to skip exceptions from proxy server res.send(). Source: hacking.js, line 19 Ã— Search results Close "},"module-help.html":{"id":"module-help.html","title":"Module: help","body":" GlaseJS Namespaces config~GlaceConfig Modules cliconfigerrorglobalshackinghelpindexmatcherreporter/indexreporter/stdoutreporter/testrailrunnersteps/timertestingutils Classes GlaceReportererror~ConfigErrorerror~GlaceErrorerror~StepErrortesting~TestCaseSteps Mixins steps/timer~TimerSteps Global afterChunkbeforeChunkchunkCONFexpectforEachLanguagereportersrunscopesessionSStest Module: help Help description. Source: help.js, line 2 Ã— Search results Close "},"module-index.html":{"id":"module-index.html","title":"Module: index","body":" GlaseJS Namespaces config~GlaceConfig Modules cliconfigerrorglobalshackinghelpindexmatcherreporter/indexreporter/stdoutreporter/testrailrunnersteps/timertestingutils Classes GlaceReportererror~ConfigErrorerror~GlaceErrorerror~StepErrortesting~TestCaseSteps Mixins steps/timer~TimerSteps Global afterChunkbeforeChunkchunkCONFexpectforEachLanguagereportersrunscopesessionSStest Module: index GlaceJS main module. Properties: Name Type Description config object Config module. error object Error module. reporter object Reporter module. run object run module. Steps object Steps module. Source: index.js, line 2 Members &lt;inner&gt; config :GlaceConfig Type: GlaceConfig Source: index.js, line 20 &lt;inner&gt; reporter :GlaceReporter Type: GlaceReporter Source: index.js, line 35 &lt;inner&gt; run :run Type: run Source: index.js, line 44 &lt;inner&gt; Steps :Steps Type: Steps Source: index.js, line 53 Ã— Search results Close "},"module-matcher.html":{"id":"module-matcher.html","title":"Module: matcher","body":" GlaseJS Namespaces config~GlaceConfig Modules cliconfigerrorglobalshackinghelpindexmatcherreporter/indexreporter/stdoutreporter/testrailrunnersteps/timertestingutils Classes GlaceReportererror~ConfigErrorerror~GlaceErrorerror~StepErrortesting~TestCaseSteps Mixins steps/timer~TimerSteps Global afterChunkbeforeChunkchunkCONFexpectforEachLanguagereportersrunscopesessionSStest Module: matcher Matchers. Source: matcher.js, line 2 Ã— Search results Close "},"module-reporter_index.html":{"id":"module-reporter_index.html","title":"Module: reporter/index","body":" GlaseJS Namespaces config~GlaceConfig Modules cliconfigerrorglobalshackinghelpindexmatcherreporter/indexreporter/stdoutreporter/testrailrunnersteps/timertestingutils Classes GlaceReportererror~ConfigErrorerror~GlaceErrorerror~StepErrortesting~TestCaseSteps Mixins steps/timer~TimerSteps Global afterChunkbeforeChunkchunkCONFexpectforEachLanguagereportersrunscopesessionSStest Module: reporter/index GlaceJS reporter package. Source: reporter/index.js, line 2 Ã— Search results Close "},"module-reporter_stdout.html":{"id":"module-reporter_stdout.html","title":"Module: reporter/stdout","body":" GlaseJS Namespaces config~GlaceConfig Modules cliconfigerrorglobalshackinghelpindexmatcherreporter/indexreporter/stdoutreporter/testrailrunnersteps/timertestingutils Classes GlaceReportererror~ConfigErrorerror~GlaceErrorerror~StepErrortesting~TestCaseSteps Mixins steps/timer~TimerSteps Global afterChunkbeforeChunkchunkCONFexpectforEachLanguagereportersrunscopesessionSStest Module: reporter/stdout GlaceJS stdout reporter. Source: reporter/stdout.js, line 2 Methods done() Called on report finalizing. Source: reporter/stdout.js, line 187 end() Called before tests end. Source: reporter/stdout.js, line 87 fail(chunk) Called on chunk or hook failed. Parameters: Name Type Description chunk object MochaJS test. Source: reporter/stdout.js, line 161 pass(chunk) Called on chunk passed. Parameters: Name Type Description chunk object MochaJS test. Source: reporter/stdout.js, line 149 scope(scope) Called on scope start. Parameters: Name Type Description scope object MochaJS suite. Source: reporter/stdout.js, line 101 scopeEnd(scope) Called before scope end. Parameters: Name Type Description scope object MochaJS suite. Source: reporter/stdout.js, line 115 test(test) Called on test start. Parameters: Name Type Description test object MochaJS suite. Source: reporter/stdout.js, line 126 testEnd(test) Called on test end. Parameters: Name Type Description test object MochaJS suite. Source: reporter/stdout.js, line 138 Ã— Search results Close "},"module-reporter_testrail.html":{"id":"module-reporter_testrail.html","title":"Module: reporter/testrail","body":" GlaseJS Namespaces config~GlaceConfig Modules cliconfigerrorglobalshackinghelpindexmatcherreporter/indexreporter/stdoutreporter/testrailrunnersteps/timertestingutils Classes GlaceReportererror~ConfigErrorerror~GlaceErrorerror~StepErrortesting~TestCaseSteps Mixins steps/timer~TimerSteps Global afterChunkbeforeChunkchunkCONFexpectforEachLanguagereportersrunscopesessionSStest Module: reporter/testrail TestRail reporter. Source: reporter/testrail.js, line 2 Methods done() Called on report finalizing. Source: reporter/testrail.js, line 137 end() Called before tests end. Source: reporter/testrail.js, line 77 start() Called on tests start. Source: reporter/testrail.js, line 36 testEnd(test) Called on test end. Parameters: Name Type Description test object MochaJS suite. Source: reporter/testrail.js, line 91 Ã— Search results Close "},"module-runner.html":{"id":"module-runner.html","title":"Module: runner","body":" GlaseJS Namespaces config~GlaceConfig Modules cliconfigerrorglobalshackinghelpindexmatcherreporter/indexreporter/stdoutreporter/testrailrunnersteps/timertestingutils Classes GlaceReportererror~ConfigErrorerror~GlaceErrorerror~StepErrortesting~TestCaseSteps Mixins steps/timer~TimerSteps Global afterChunkbeforeChunkchunkCONFexpectforEachLanguagereportersrunscopesessionSStest Module: runner Makes tests root session. runner loads root conftest.js if it is located on one level with each of CONF.testDirs; if each of CONF.testDirs is file with tests, runner loads and executes it; if each of CONF.testDirs is folder runner loads files inside recursive if file name starts with test and ends with .js; inside each subfolder of each of CONF.testDirs runner loads conftest.js file if it is present; Source: runner.js, line 2 Ã— Search results Close "},"module-steps_timer.html":{"id":"module-steps_timer.html","title":"Module: steps/timer","body":" GlaseJS Namespaces config~GlaceConfig Modules cliconfigerrorglobalshackinghelpindexmatcherreporter/indexreporter/stdoutreporter/testrailrunnersteps/timertestingutils Classes GlaceReportererror~ConfigErrorerror~GlaceErrorerror~StepErrortesting~TestCaseSteps Mixins steps/timer~TimerSteps Global afterChunkbeforeChunkchunkCONFexpectforEachLanguagereportersrunscopesessionSStest Module: steps/timer Time steps. Source: steps/timer.js, line 2 Mixins TimerSteps Methods checkTimer(condition) Step to check timer. Parameters: Name Type Description condition string | object chaijs condition. Source: steps/timer.js, line 40 Throws: If timer verification is failed. Type AssertionError startTimer() Step to start timer. Source: steps/timer.js, line 20 stopTimer() Step to stop timer. Source: steps/timer.js, line 29 Ã— Search results Close "},"module-steps_timer-TimerSteps.html":{"id":"module-steps_timer-TimerSteps.html","title":"Mixin: TimerSteps","body":" GlaseJS Namespaces config~GlaceConfig Modules cliconfigerrorglobalshackinghelpindexmatcherreporter/indexreporter/stdoutreporter/testrailrunnersteps/timertestingutils Classes GlaceReportererror~ConfigErrorerror~GlaceErrorerror~StepErrortesting~TestCaseSteps Mixins steps/timer~TimerSteps Global afterChunkbeforeChunkchunkCONFexpectforEachLanguagereportersrunscopesessionSStest Mixin: TimerSteps steps/timer~ TimerSteps Steps to measure time. Source: steps/timer.js, line 8 Ã— Search results Close "},"module-testing.html":{"id":"module-testing.html","title":"Module: testing","body":" GlaseJS Namespaces config~GlaceConfig Modules cliconfigerrorglobalshackinghelpindexmatcherreporter/indexreporter/stdoutreporter/testrailrunnersteps/timertestingutils Classes GlaceReportererror~ConfigErrorerror~GlaceErrorerror~StepErrortesting~TestCaseSteps Mixins steps/timer~TimerSteps Global afterChunkbeforeChunkchunkCONFexpectforEachLanguagereportersrunscopesessionSStest Module: testing Contains classes and functions to save executed tests data. Source: testing.js, line 2 Classes TestCase Ã— Search results Close "},"module-testing-TestCase.html":{"id":"module-testing-TestCase.html","title":"Class: TestCase","body":" GlaseJS Namespaces config~GlaceConfig Modules cliconfigerrorglobalshackinghelpindexmatcherreporter/indexreporter/stdoutreporter/testrailrunnersteps/timertestingutils Classes GlaceReportererror~ConfigErrorerror~GlaceErrorerror~StepErrortesting~TestCaseSteps Mixins steps/timer~TimerSteps Global afterChunkbeforeChunkchunkCONFexpectforEachLanguagereportersrunscopesessionSStest Class: TestCase testing~ TestCase new TestCase(name) Test case data structure. Contains full information and history about test case. Parameters: Name Type Description name string Test case name. Source: testing.js, line 17 Methods addError(err) Adds error to test case. Parameters: Name Type Description err Error Error. Source: testing.js, line 50 addFailedParams(params) Adds failed params if they don't exist. Parameters: Name Type Description params object Params which test was failed with. Source: testing.js, line 38 addScreenshot(imagePath) Adds screenshot. Parameters: Name Type Description imagePath string Path to saved screenshot. Source: testing.js, line 59 reset() Resets test case info. Source: testing.js, line 26 Ã— Search results Close "},"module-utils.html":{"id":"module-utils.html","title":"Module: utils","body":" GlaseJS Namespaces config~GlaceConfig Modules cliconfigerrorglobalshackinghelpindexmatcherreporter/indexreporter/stdoutreporter/testrailrunnersteps/timertestingutils Classes GlaceReportererror~ConfigErrorerror~GlaceErrorerror~StepErrortesting~TestCaseSteps Mixins steps/timer~TimerSteps Global afterChunkbeforeChunkchunkCONFexpectforEachLanguagereportersrunscopesessionSStest Module: utils Utils. Source: utils.js, line 2 Ã— Search results Close "},"Steps.html":{"id":"Steps.html","title":"Class: Steps","body":" GlaseJS Namespaces config~GlaceConfig Modules cliconfigerrorglobalshackinghelpindexmatcherreporter/indexreporter/stdoutreporter/testrailrunnersteps/timertestingutils Classes GlaceReportererror~ConfigErrorerror~GlaceErrorerror~StepErrortesting~TestCaseSteps Mixins steps/timer~TimerSteps Global afterChunkbeforeChunkchunkCONFexpectforEachLanguagereportersrunscopesessionSStest Class: Steps Steps new Steps() Steps collection which will be executed in test cases. Mixes In: TimerSteps Source: steps/index.js, line 2 Methods &lt;static&gt; register() Registers sequence of objects containing steps. Source: steps/index.js, line 42 &lt;async&gt; pause(timeout, message) Step to make pause in another step or test case. Good style to rid of its direct usage in test case, only inside other step. Parameters: Name Type Description timeout number Pause time, sec. message string Pause reason. Source: steps/index.js, line 31 Returns: Type Promise.&lt;void&gt; Ã— Search results Close "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
